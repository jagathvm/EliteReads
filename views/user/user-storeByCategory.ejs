<main class="main" style="transform: none">
  <div class="page-header breadcrumb-wrap">
    <div class="container">
      <div class="breadcrumb">
        <a href="/" rel="nofollow">Home</a>
        <span></span>
        <a href="/book-store">Book Store</a>
        <span></span>
        <%= category.name %>
        <!-- Dynamic category name based on `categorySlug` -->
      </div>
    </div>
  </div>
  <section class="mt-50 mb-50" style="transform: none">
    <div class="container" style="transform: none">
      <div class="row flex-row-reverse" style="transform: none">
        <div class="col-lg-9">
          <div class="shop-product-fillter">
            <div class="totall-product">
              <p>
                We found
                <% if (books) { %>
                <strong class="text-brand"><%= books.length %></strong>
                <% } else { %>
                <strong class="text-brand">0</strong>
                <% } %>
                items for you!
              </p>
            </div>
            <!-- Sort By Section (if needed) -->
            <!-- Same sorting dropdown as before -->
            <div class="sort-by-product-area">
              <div class="sort-by-cover">
                <div class="sort-by-product-wrap">
                  <div class="sort-by">
                    <span><i class="fi-rs-apps-sort"></i>
                      Sort by:
                    </span>
                  </div>
                  <div class="sort-by-dropdown-wrap">
                    <span id="selected-sort-option">
                      Featured
                      <i class="fi-rs-angle-small-down"></i></span>
                  </div>
                </div>
                <div class="sort-by-dropdown">
                  <ul>
                    <li>
                      <a href="/book-store?sort=featured" data-sort-name="Featured">Featured</a>
                    </li>
                    <li>
                      <a href="/book-store?sort=priceAsc" data-sort-name="Price: Low to High">Price: Low to High</a>
                    </li>
                    <li>
                      <a href="/book-store?sort=priceDesc" data-sort-name="Price: High to Low">Price: High to Low</a>
                    </li>
                    <li><a href="/book-store?sort=releaseDate" data-sort-name="Release Date">Release Date</a></li>
                    <li><a href="/book-store?sort=rating" data-sort-name="Rating">Rating</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="row product-grid-3">
            <% if (books) { %>
            <% books.forEach(book => { %>
            <div class="col-lg-4 col-md-4 col-12 col-sm-6">
              <div class="product-cart-wrap mb-30">
                <div class="product-img-action-wrap">
                  <div class="product-img product-img-zoom">
                    <a href="/book-details/<%= book.bookSlug %>">
                      <img class="default-img" src="<%= book.coverImageUrls && book.coverImageUrls[0] %>" alt="<%= book.title %>" />
                      <img class="hover-img" src="<%= book.coverImageUrls[1] ? book.coverImageUrls[1] : book.coverImageUrls[0] %>" alt="<%= book.title %>" />
                    </a>
                  </div>
                  <div class="product-badges product-badges-position product-badges-mrg">
                    <span class="hot">Hot</span>
                  </div>
                </div>
                <div class="product-content-wrap">
                  <div class="product-author">
                    <a><%= book.author %></a>
                  </div>
                  <h2>
                    <a href="/book-details/<%= book.bookSlug %>"><%= book.title %></a>
                  </h2>
                  <div class="product-price">
                    <span>â‚¹ <%= book.price %> </span>
                  </div>
                  <div class="product-action-1 show">
                    <a aria-label="Add To Wishlist" class="action-btn hover-up" href="#"><i class="fi-rs-heart"></i></a>
                    <a aria-label="Add To Cart" class="action-btn hover-up" href="#"><i class="fi-rs-shopping-bag-add"></i></a>
                  </div>
                </div>
              </div>
            </div>
            <% }) %>
            <% } %>
          </div>
          <!-- Pagination (if needed) -->
          <div class="pagination-area mt-15 mb-sm-5 mb-lg-0">
            <nav aria-label="Page navigation example">
              <ul class="pagination justify-content-start">
                <li class="page-item active">
                  <a class="page-link" href="#">01</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">02</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">03</a>
                </li>
                <li class="page-item">
                  <a class="page-link dot" href="#">...</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#">16</a>
                </li>
                <li class="page-item">
                  <a class="page-link" href="#"><i class="fi-rs-angle-double-small-right"></i></a>
                </li>
              </ul>
            </nav>
          </div>
        </div>

        <!-- Sidebar with Filters (Optional) -->
        <div class="col-lg-3 primary-sidebar sticky-sidebar" style="
            position: relative;
            overflow: visible;
            box-sizing: border-box;
            min-height: 1px;
          ">
          <!-- Filter By Price -->
          <!-- Product sidebar Widget -->
          <div class="sidebar-widget filter-options mb-30">
            <div class="widget-header position-relative mb-20 pb-10">
              <h5 class="widget-title mb-10">Filter with Options</h5>
              <div class="bt-1 border-color-1"></div>
            </div>
            <!-- Filter by Price -->
            <div class="price-filter mb-20">
              <label for="price-filter">Price:</label>
              <select id="price-filter" class="form-control" name="price">
                <option value="">Select Price Range</option>
                <option value="under-100">Under 100</option>
                <option value="100-200">100 - 200</option>
                <option value="200-500">200 - 500</option>
                <option value="500-1000">500 - 1000</option>
                <option value="over-1000">Over 1000</option>
              </select>
            </div>
            <!-- Filter by Language -->
            <div class="language-filter mb-20">
              <label for="language-filter">Language:</label>
              <select id="language-filter" class="form-control" name="language">
                <option value="">Select Language</option>
                <option value="en">English</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="it">Italian</option>
              </select>
            </div>
            <!-- Filter by Authors -->
            <div class="authors-filter mb-20">
              <label for="author-filter">Authors:</label>
              <select id="author-filter" class="form-control" name="authors">
                <option value="">Select Author</option>
                <option value="author1">J.K. Rowling</option>
                <option value="author2">George R.R. Martin</option>
                <option value="author3">J.R.R. Tolkien</option>
                <option value="author4">Agatha Christie</option>
                <option value="author5">Mark Twain</option>
              </select>
            </div>
            <!-- Filter by Publishers -->
            <div class="publishers-filter mb-20">
              <label for="publisher-filter">Publishers:</label>
              <select id="publisher-filter" class="form-control" name="publishers">
                <option value="">Select Publisher</option>
                <option value="publisher1">Penguin Random House</option>
                <option value="publisher2">HarperCollins</option>
                <option value="publisher3">Simon & Schuster</option>
                <option value="publisher4">Hachette Book Group</option>
                <option value="publisher5">Macmillan Publishers</option>
              </select>
            </div>
            <a href="#" class="btn btn-sm btn-default" id="filter-button"><i class="fi-rs-filter mr-5"></i> Filter</a>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<script type="module" src="/user/js/utils/user-store.js"></script>
